# v0.2.2 Scope: Audit UX Integrity

**Release Type**: Interface fix release
**Codename**: Audit UX Integrity
**Predecessor**: v0.2.1-cohesion (CLOSED)

---

## Purpose

This release fixes link integrity, status semantics, and audit path completeness.

No changes to hashing contracts, verifier semantics, or evidence pack format.

---

## What v0.2.2 Changes

| Category | Changes |
|----------|---------|
| Documentation | Rewrite auditor checklist, add commit explanation, fix repo URLs |
| Navigation | Add verifier links to demo, make evidence pack copyable |
| Metadata | Dual-commit footer, remove "Status:" from archives |
| Demo UX | Add LIVE badge, Copy Evidence Pack button, Verifier link |

---

## What v0.2.2 Does NOT Change

| Component | Status | Rationale |
|-----------|--------|-----------|
| `compute_composite_root()` | UNCHANGED | Breaking change; forces re-keying all vectors/goldens |
| `compute_ui_root()` | UNCHANGED | Cryptographic contract |
| `compute_reasoning_root()` | UNCHANGED | Cryptographic contract |
| Epoch domain prefix | UNCHANGED | v0.3+ scope; requires vector regeneration |
| Evidence pack JSON schema | UNCHANGED | Existing packs must remain valid |
| Test vectors | UNCHANGED | Golden hashes frozen at v0.2.1 |
| Tier A invariants | UNCHANGED | Core governance semantics |

---

## Explicit Non-Goals

1. **No crypto contract changes** - Any change to hashing functions requires v0.3+
2. **No schema changes** - Evidence pack format is frozen
3. **No new invariants** - Tier A/B/C counts remain 10/1/3
4. **No capability additions** - No new verifiers, validators, or trust classes
5. **No fm.tex/fm.pdf edits** - Formal specification unchanged

---

## Blockers Addressed

From `manus_link_integrity_audit_2026-01-03.md`:

| Blocker | Fix |
|---------|-----|
| A: Demo/archive version mismatch | Document architecture + LIVE badge |
| B: Auditor checklist broken | Rewrite steps, add links |
| C: Build metadata confusion | Dual-commit footer + docs |
| D: Repository URL missing | Replace placeholders |
| E: Status label inconsistency | Remove from archives |

---

## Why Epoch Prefix is v0.3+

The epoch domain prefix change (`compute_composite_root` modification) is explicitly deferred because:

1. **Breaking change**: All existing evidence packs would fail verification
2. **Vector regeneration**: All test vectors and golden hashes must be regenerated
3. **Audit surface version bump**: Changes the cryptographic contract, not just UX
4. **Risk**: Mixing interface fixes with crypto changes increases deployment risk

v0.2.2 is a **safe, non-breaking** release. v0.3+ is reserved for **breaking changes** that require coordinated migration.

---

## Success Criteria

v0.2.2 is complete when:

1. A hostile auditor can complete the 5-step verification checklist without guessing URLs
2. All links on demo and archive pages resolve to valid content
3. Footer clearly distinguishes content commit from build commit
4. Repository URL is clickable and leads to real repository
5. No archive page claims to be "CURRENT" except the actual current version
6. All existing evidence packs still verify correctly (no crypto changes)

---

## Test Requirements

```bash
# 1. Verify no placeholder URLs
grep -r "your-org" docs/ && echo "FAIL" || echo "PASS"

# 2. Verify existing evidence packs still work
uv run pytest tests/governance/test_evidence_pack_examples.py -v
# Expected: 16 passed (same as v0.2.1)

# 3. Verify hashing functions unchanged
uv run pytest tests/governance/test_release_metadata_guard.py -v
# Expected: All passed

# 4. Verify demo has required UX elements
curl -s http://localhost:8000 | grep -q "LIVE" && echo "PASS" || echo "FAIL"
curl -s http://localhost:8000 | grep -q "Copy Evidence" && echo "PASS" || echo "FAIL"
curl -s http://localhost:8000 | grep -q "evidence-pack/verify" && echo "PASS" || echo "FAIL"
```

---

## Sign-Off Requirements

Before tagging v0.2.2:

| Check | Required |
|-------|----------|
| All v0.2.1 tests still pass | YES |
| No changes to attestation/ or governance/ crypto | YES |
| Evidence pack examples unchanged | YES |
| Hostile auditor can complete checklist | YES |
| fm.tex/fm.pdf unchanged | YES |

---

## v0.2.2 GO/NO-GO Checklist for Hostile Auditors

This checklist is specifically designed for hostile auditors testing link integrity, status semantics, and metadata consistency.

### Links (must all resolve)

| Check | URL | Expected |
|-------|-----|----------|
| Homepage redirects | `https://mathledger.ai` | Redirects to `/v0.2.2/` (or current) |
| Demo loads | `https://mathledger.ai/demo/` | 200 OK, shows LIVE badge |
| For Auditors | `https://mathledger.ai/v0.2.2/docs/for-auditors/` | 200 OK |
| Evidence Pack Verifier | `https://mathledger.ai/v0.2.2/evidence-pack/verify/` | 200 OK |
| Verifier linked from demo | Demo page | Contains link to verifier |
| Verifier linked from FOR_AUDITORS | FOR_AUDITORS.md | Contains clickable verifier URL |
| Manifest | `https://mathledger.ai/v0.2.2/manifest.json` | 200 OK, valid JSON |
| Repository link | Footer | Links to `github.com/helpfuldolphin/mathledger` |
| Commit link | Footer | Links to GitHub commit page |

### Status Semantics (must be consistent)

| Check | Location | Expected |
|-------|----------|----------|
| Current version | `/versions/` | v0.2.2 marked CURRENT |
| Old versions | `/versions/` | v0.2.0, v0.2.1 marked SUPERSEDED |
| Archive headers | `/v0.2.2/` | Shows "Locked:" not "Status: CURRENT" |
| Demo version | `/demo/health` | Matches current version |
| Demo LIVE badge | Demo banner | "LIVE" indicator visible |

### Metadata Consistency (must match)

| Check | Source A | Source B | Must Match |
|-------|----------|----------|------------|
| Content commit | Footer | manifest.json `commit` | YES |
| Build commit | Footer | manifest.json `build_commit` | YES |
| Version | Demo `/health` | releases.json `current_version` | YES |
| Tag | Demo `/health` | releases.json versions[current].tag | YES |

### Auditor Checklist Completability (must work end-to-end)

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Navigate to /demo/ | Demo loads, shows version banner with LIVE badge |
| 2 | Run Boundary Demo | 4-step sequence completes (MV VERIFIED, PA ABSTAINED, ADV ABSTAINED, MV REFUTED) |
| 3 | Copy Evidence Pack | JSON copied to clipboard (button exists and works) |
| 4 | Open Verifier (linked) | `/v0.2.2/evidence-pack/verify/` loads |
| 5 | Paste and Verify | Status shows PASS |
| 6 | Tamper and Re-verify | Status shows FAIL with mismatch details |

### Crypto Contract Verification (must be unchanged)

| Check | Command | Expected |
|-------|---------|----------|
| Evidence pack examples still valid | `uv run pytest tests/governance/test_evidence_pack_examples.py -v` | 16 passed |
| Hashing functions unchanged | `git diff v0.2.1-cohesion..HEAD -- attestation/dual_root.py` | No changes |
| Golden hashes unchanged | `git diff v0.2.1-cohesion..HEAD -- releases/evidence_pack_examples.v0.2.1.json` | No changes |

### GO/NO-GO Summary

| Category | GO Condition |
|----------|--------------|
| Links | All 9 link checks return 200 OK |
| Status | All 5 status checks consistent |
| Metadata | All 4 metadata pairs match |
| Checklist | All 6 steps completable by cold auditor |
| Crypto | All existing tests pass, no hash changes |

**If ANY check fails: NO-GO**

---

**Scope Author**: Claude A
**Date**: 2026-01-03
