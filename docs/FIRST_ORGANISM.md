## The First Organism: Operational Realization of Verifiable Cognition

**Status:** Operational (MVDP)  
**Protocol Reference:** `docs/whitepaper.md` Section 2 (Architecture) and Section 4 (Algorithms)  
**Reference Implementation:** `tests/integration/test_first_organism.py`  
**Artifacts:** `artifacts/first_organism/attestation.json`, `apps/ui/test/fixtures/first_organism_attestation.json`

---

## 1. Executive Summary

The **First Organism** is the living instantiation of the **Chain of Verifiable Cognition** described in the whitepaper. Every nightly execution begins with a derivation ($U_t$), feeds through reasoning and attestation ($R_t$/$H_t$), and closes with the Reflexive Formal Learning feedback loop ($RFL$). The integration test `tests/integration/test_first_organism.py` proves this metabolic cycle, making it the **Minimum Viable Demonstration of Life (MVDP)** for MathLedger.

This document unifies the **whitepaper (theory)** → **test suite (practice)** → **specification (proof)** → **basis artifacts (assets)** narrative and points to the canonical implementations in the repository.

---

## 2. Chain of Verifiable Cognition (U_t → R_t → H_t → RFL)

### Step 1: Update / Derivation ($U_t$)
* **Whitepaper Anchor:** Section 2, “Derivation Engine”  
* **Implementation:** `backend.axiom_engine.derive_cli.DerivePipeline.execute()` invoked via `backend.rfl.experiment.RFLExperiment.run()`  
* **Essence:** Exploration—candidate statements, candidate proofs, derivation logs.  
* **Artifacts:** Raw statements stored via `ledger.ingest.LedgerIngestor`; candidate hashes appear in the attestation leaves.

### Step 2: Result / Record ($R_t$)
* **Whitepaper Anchor:** Section 4.2, “Verification”  
* **Implementation:** `backend.rfl.experiment.ExperimentResult`  
* **Essence:** Verified proofs, metadata counts (`total_statements`, `successful_proofs`, `duration_seconds`).  
* **Spec Reference:** `docs/ATTESTATION_SPEC.md` defines how these values become reasoning leaves, ensuring deterministic hashing.

### Step 3: Hash / History ($H_t$)
* **Whitepaper Anchor:** Section 4.3, “Ingestion and Block Construction”  
* **Implementation:** `basis/attestation/dual_root.py` + `backend.rfl.coverage.CoverageTracker`  
* **Mechanism:** Dual-root attestation commits to `reasoning_merkle_root` and `ui_merkle_root`, then `SHA256(R_t || U_t)` yields $H_t$.  
* **Artifact:** `artifacts/first_organism/attestation.json` (automatically synced to `apps/ui/test/fixtures/first_organism_attestation.json` for UI verification).

### Step 4: Reflexive Loop ($RFL$)
* **Whitepaper Anchor:** Section 3, “Architecture” (feedback & lifecycle)  
* **Implementation:** `backend.rfl.runner.RFLRunner` and `backend.rfl.bootstrap_stats`  
* **Logic:** Bootstrap CI (BCa) over coverage and uplift with thresholds (coverage ≥ 0.92, uplift > 1.0).  
* **Verdicts:** `PASS` (alive), `FAIL` (stagnant), `ABSTAIN` (insufficient evidence).  
* **Evidence:** `[PASS] FIRST ORGANISM ALIVE H_t=<short_hash>` emitted in logs; logged results feed the UI evidence dashboard and `artifacts/rfl/rfl_results.json`.

---

## 3. Crosswalk: Whitepaper ↔ Tests ↔ Spec ↔ Basis

| Layer | Artifact | Description |
| --- | --- | --- |
| **Whitepaper** | `docs/whitepaper.md` | Introduces the Chain of Verifiable Cognition and the architecture that the organism operationalizes. |
| **Test** | `tests/integration/test_first_organism.py` | Replays the chain, emits canonical log lines, produces `artifacts/first_organism/attestation.json`. |
| **Spec** | `docs/ATTESTATION_SPEC.md` / `docs/RFL_IMPLEMENTATION_SUMMARY.md` | Formalizes deterministic hashing, dual-root schema, and bootstrap verification thresholds. |
| **Basis** | `basis/attestation/dual_root.py`, `backend/rfl` modules, `apps/ui/test/fixtures/first_organism_attestation.json` | Provide the primitives and assets consumed across UI, API, and documentation layers. |

---

## 4. Codebase Mapping

| Chain Step | Component | Path | Key Entry Point |
| --- | --- | --- | --- |
| **$U_t$** | Derivation Engine | `backend/axiom_engine/derive_cli.py` | `DerivePipeline.execute()` |
| **$R_t$** | Experiment Executor | `backend/rfl/experiment.py` | `RFLExperiment.run()` |
| **$H_t$** | Dual Attestation | `basis/attestation/dual_root.py` | `compute_composite_root()` |
| **$H_t$ Support** | Coverage Tracker | `backend/rfl/coverage.py` | `CoverageTracker.update()` |
| **$RFL$** | RFL Runner + Stats | `backend/rfl/runner.py`, `backend/rfl/bootstrap_stats.py` | `RFLRunner.run_all()` |
| **Integration Gate** | First Organism Harness | `tests/integration/test_first_organism.py` | `test_first_organism_closed_loop_happy_path` |

---

## 5. Canonical Artifact Example (Auto-synced)

The JSON below is auto-generated by the integration test and checked into `apps/ui/test/fixtures/first_organism_attestation.json`. It is the canonical First Organism attestation snapshot; any divergence indicates the test or hashing primitives changed and must be re-licensed.

```json
{
  "reasoningMerkleRoot": "142a7c15ac8d44d2e13aa1006febdaa46f66cc4d69b89ebae5cba472e8b47902",
  "uiMerkleRoot": "3c9a33d055fd8f7f61d2dbe1f9835889efea13427837a2213355f26495cfedee",
  "compositeAttestationRoot": "6a006e789be39105a37504e12305f5358baad273e15fb757f266c0f46b116e59",
  "metadata": {
    "attestation_version": "v2",
    "reasoning_event_count": 1,
    "ui_event_count": 1,
    "composite_formula": "SHA256(R_t || U_t)",
    "leaf_hash_algorithm": "sha256",
    "algorithm": "SHA256",
    "system": "pl"
  }
}
```

This payload is derived from the `reasoningLeaves` and `uiLeaves` arrays in the same fixture and mirrors the canonical data defined in `docs/ATTESTATION_SPEC.md`.

---

## 6. Artifact Generation Workflow

1. **Run the Integration Test**  
   ```bash
   pytest tests/integration/test_first_organism.py -k closed_loop_happy_path
   ```  
   This produces `artifacts/first_organism/attestation.json` and prints `[PASS] FIRST ORGANISM ALIVE H_t=<short_hash>` to stdout.

2. **Sync the Artifact**  
   ```bash
   cp artifacts/first_organism/attestation.json apps/ui/test/fixtures/first_organism_attestation.json
   ```  
   The UI fixture feeds into dashboards and ensures the canonical example here stays current.

3. **Validate Determinism**  
   Run `tests/test_dual_root_attestation.py::test_first_organism_sample_metadata` to verify that `basis/attestation/dual_root` recomputes the same Rₜ, Uₜ, and Hₜ values.

Maintainers should repeat this workflow whenever derivation rules, normalization logic, or attestation primitives change. Include the regenerated fixture and updated hashes in the same pull request; the First Organism documentation automatically mirrors those values.

---

## 7. Example Execution Log (Happy Path)

```text
[GATE] Curriculum gates passed for slice_a
[DERIVE] Generated 200 candidates, 15 valid proofs.
[HASH] Hash contract verified for c3f5b3205153cf1c5a2b8a0c3694a7c3
[ATTEST] H_t recomputable: 6a006e78... (Dual-Root Verified)
[LEDGER] Block sealed with R_t || U_t
[RFL-Stats] Computing Bootstrap CI (B=10000)...
[PASS] FIRST ORGANISM ALIVE H_t=6a006e78 coverage=0.94 uplift=1.12
```

--- 

## 8. Investor Note

The First Organism is the milestone that validates MathLedger’s claim of being a **self-verifying, mathematically grounded intelligence**. The integration test infrastructure, dual-root spec, and canonical artifacts form a chain from theory (`docs/whitepaper.md`) to practice (`tests/integration/test_first_organism.py`) to proof (`docs/ATTESTATION_SPEC.md`/`docs/RFL_IMPLEMENTATION_SUMMARY.md`) to tangible assets (`apps/ui/test/fixtures/first_organism_attestation.json`). This chain is the investor-grade evidence that MathLedger is not only producing data but **proving life** via the Reflexive Formal Learning loop.
