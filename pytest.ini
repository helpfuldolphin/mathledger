[pytest]
testpaths = .
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts =
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    -m "not ht_spec"
markers =
    integration: marks tests as integration tests
    unit: marks tests as unit tests
    slow: marks tests as slow running
    determinism: marks tests verifying deterministic behavior
    first_organism: marks tests for First Organism closed loop
    first_organism_core: marks happy path First Organism tests
    first_organism_failure_mode: marks failure mode analysis tests
    first_organism_smoke: marks DB-optional smoke tests for First Organism (no DB required)
    wide_slice: marks tests for Wide Slice Dyno Chart log validation
    requires_db: marks tests that require database connection (will skip if DB unavailable)
    hermetic: marks tests that run without external dependencies (DB/Redis)
    ht_spec: marks Phase II Ht invariant spec tests (not in default CI, reference implementation only)
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
